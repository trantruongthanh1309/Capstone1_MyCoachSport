# ğŸ¯ Há»† THá»NG ÄIá»‚M Tá»° Äá»˜NG - HÆ¯á»šNG DáºªN

## ğŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng má»›i Ä‘Æ¡n giáº£n hÆ¡n nhiá»u:
- âœ… User chá»‰ cáº§n **tick âœ…** hoÃ n thÃ nh
- âœ… Há»‡ thá»‘ng **tá»± Ä‘á»™ng tÃ­nh Ä‘iá»ƒm**
- âœ… KhÃ´ng cáº§n nháº­p thÃ´ng tin thá»§ cÃ´ng
- âœ… CÃ´ng báº±ng cho táº¥t cáº£ ngÆ°á»i dÃ¹ng

## ğŸš€ CÃ¡ch Hoáº¡t Äá»™ng

### 1. á» Trang Planner/Schedule:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‹ï¸ BÃ i Táº­p HÃ´m Nay                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ Cháº¡y bá»™ 30 phÃºt      [âœ… HoÃ n thÃ nh] â”‚
â”‚ â˜ Gym 45 phÃºt          [âœ… HoÃ n thÃ nh] â”‚
â”‚ â˜ Yoga 20 phÃºt         [âœ… HoÃ n thÃ nh] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ½ï¸ Bá»¯a Ä‚n HÃ´m Nay                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ Bá»¯a sÃ¡ng (500 cal)   [âœ… ÄÃ£ Äƒn]    â”‚
â”‚ â˜ Bá»¯a trÆ°a (700 cal)   [âœ… ÄÃ£ Äƒn]    â”‚
â”‚ â˜ Bá»¯a tá»‘i (600 cal)    [âœ… ÄÃ£ Äƒn]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Click "âœ… HoÃ n thÃ nh":
- Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh Ä‘iá»ƒm
- Cáº­p nháº­t UserStats
- Kiá»ƒm tra vÃ  má»Ÿ khÃ³a achievements
- Hiá»ƒn thá»‹ thÃ´ng bÃ¡o: "HoÃ n thÃ nh! +54 Ä‘iá»ƒm"

## ğŸ’¯ CÃ´ng Thá»©c TÃ­nh Äiá»ƒm

### Workout Points:
```
Äiá»ƒm = Thá»i gian (phÃºt) Ã— Äá»™ khÃ³ Ã— Há»‡ sá»‘ mÃ´n thá»ƒ thao

Há»‡ sá»‘ Ä‘á»™ khÃ³: 1.5 (Medium - máº·c Ä‘á»‹nh)
Há»‡ sá»‘ mÃ´n thá»ƒ thao:
  - Yoga: 0.8
  - Cháº¡y bá»™: 1.0
  - Cáº§u lÃ´ng: 1.1
  - BÃ³ng Ä‘Ã¡: 1.2
  - BÃ³ng rá»•: 1.2
  - Gym: 1.3
  - BÆ¡i lá»™i: 1.5
```

**VÃ­ dá»¥:**
- Cháº¡y bá»™ 30 phÃºt: `30 Ã— 1.5 Ã— 1.0 = 45 Ä‘iá»ƒm`
- BÆ¡i lá»™i 45 phÃºt: `45 Ã— 1.5 Ã— 1.5 = 101 Ä‘iá»ƒm`
- Gym 60 phÃºt: `60 Ã— 1.5 Ã— 1.3 = 117 Ä‘iá»ƒm`

### Meal Points:
```
Äiá»ƒm = (Calories / 10) Ã— Há»‡ sá»‘ bá»¯a Äƒn + Bonus protein

Há»‡ sá»‘ bá»¯a Äƒn:
  - SÃ¡ng (morning): 1.2 (khuyáº¿n khÃ­ch Äƒn sÃ¡ng)
  - TrÆ°a (afternoon): 1.0
  - Tá»‘i (evening): 0.9 (khuyáº¿n khÃ­ch Äƒn Ã­t)

Bonus protein:
  - â‰¥ 30g: +10 Ä‘iá»ƒm
  - â‰¥ 20g: +5 Ä‘iá»ƒm
  - < 20g: +0 Ä‘iá»ƒm

Giá»›i háº¡n: Tá»‘i Ä‘a 100 Ä‘iá»ƒm/bá»¯a
```

**VÃ­ dá»¥:**
- Bá»¯a sÃ¡ng 500 cal, 25g protein: `(500/10) Ã— 1.2 + 5 = 65 Ä‘iá»ƒm`
- Bá»¯a trÆ°a 700 cal, 35g protein: `(700/10) Ã— 1.0 + 10 = 80 Ä‘iá»ƒm`
- Bá»¯a tá»‘i 600 cal, 15g protein: `(600/10) Ã— 0.9 + 0 = 54 Ä‘iá»ƒm`

## ğŸ¯ Táº¡i Sao CÃ´ng Báº±ng?

### 1. Dá»±a TrÃªn Effort Thá»±c Táº¿:
- Táº­p lÃ¢u hÆ¡n = Ä‘iá»ƒm cao hÆ¡n
- MÃ´n khÃ³ hÆ¡n = Ä‘iá»ƒm cao hÆ¡n
- Ä‚n Ä‘á»§ cháº¥t = Ä‘iá»ƒm cao hÆ¡n

### 2. Khuyáº¿n KhÃ­ch ThÃ³i Quen Tá»‘t:
- Ä‚n sÃ¡ng Ä‘áº§y Ä‘á»§ (x1.2)
- Ä‚n tá»‘i vá»«a pháº£i (x0.9)
- Protein cao (bonus)

### 3. CÃ¢n Báº±ng Workout vs Meal:
- 1 workout 30 phÃºt â‰ˆ 45-100 Ä‘iá»ƒm
- 1 bá»¯a Äƒn â‰ˆ 50-100 Ä‘iá»ƒm
- Cáº£ 2 Ä‘á»u quan trá»ng!

### 4. Giá»›i Háº¡n Há»£p LÃ½:
- Meal tá»‘i Ä‘a 100 Ä‘iá»ƒm/bá»¯a (trÃ¡nh spam)
- Workout khÃ´ng giá»›i háº¡n (khuyáº¿n khÃ­ch táº­p nhiá»u)

## ğŸ“Š VÃ­ Dá»¥ Thá»±c Táº¿

### User A - ChÄƒm Chá»‰:
```
SÃ¡ng:
  âœ… Cháº¡y bá»™ 30 phÃºt = 45 Ä‘iá»ƒm
  âœ… Bá»¯a sÃ¡ng 500 cal, 25g protein = 65 Ä‘iá»ƒm

TrÆ°a:
  âœ… Gym 45 phÃºt = 88 Ä‘iá»ƒm
  âœ… Bá»¯a trÆ°a 700 cal, 35g protein = 80 Ä‘iá»ƒm

Tá»‘i:
  âœ… Yoga 30 phÃºt = 36 Ä‘iá»ƒm
  âœ… Bá»¯a tá»‘i 600 cal, 20g protein = 59 Ä‘iá»ƒm

Tá»”NG: 373 Ä‘iá»ƒm/ngÃ y
```

### User B - BÃ¬nh ThÆ°á»ng:
```
SÃ¡ng:
  âœ… Bá»¯a sÃ¡ng 400 cal, 15g protein = 48 Ä‘iá»ƒm

TrÆ°a:
  âœ… Cháº¡y bá»™ 20 phÃºt = 30 Ä‘iá»ƒm
  âœ… Bá»¯a trÆ°a 600 cal, 20g protein = 65 Ä‘iá»ƒm

Tá»‘i:
  âœ… Bá»¯a tá»‘i 500 cal, 15g protein = 45 Ä‘iá»ƒm

Tá»”NG: 188 Ä‘iá»ƒm/ngÃ y
```

## ğŸ”§ CÃ i Äáº·t

### BÆ°á»›c 1: Cháº¡y Script SQL
```sql
-- Cháº¡y file: auto_points_system.sql
-- ThÃªm cá»™t IsCompleted, CompletedAt, PointsEarned vÃ o UserSchedule
-- Táº¡o trigger tá»± Ä‘á»™ng tÃ­nh Ä‘iá»ƒm
```

### BÆ°á»›c 2: API Endpoint Má»›i
```
POST /api/leaderboard/complete-schedule-item
Body: { "schedule_id": 123 }
Response: { "success": true, "points_earned": 54 }
```

### BÆ°á»›c 3: Cáº­p Nháº­t Frontend
ThÃªm nÃºt "âœ… HoÃ n thÃ nh" vÃ o má»—i item trong Planner:

```jsx
<button onClick={() => handleComplete(scheduleId)}>
  âœ… HoÃ n thÃ nh
</button>
```

## ğŸ® Gamification

### Streak System:
- Táº­p/Äƒn Ä‘á»u Ä‘áº·n má»—i ngÃ y â†’ TÄƒng streak
- Streak cÃ ng cao â†’ Unlock achievements
- Bá» lá»¡ 1 ngÃ y â†’ Reset vá» 1

### Achievements:
- ğŸŒ± NgÆ°á»i má»›i: 1 bÃ i táº­p (+10Ä‘)
- ğŸ”¥ KiÃªn trÃ¬: 7 ngÃ y liÃªn tá»¥c (+50Ä‘)
- âš”ï¸ Chiáº¿n binh: 30 ngÃ y liÃªn tá»¥c (+200Ä‘)
- ğŸ‘‘ Huyá»n thoáº¡i: 100 ngÃ y liÃªn tá»¥c (+1000Ä‘)

### Level System:
```
Level = (Tá»•ng Ä‘iá»ƒm / 1000) + 1
Experience = Tá»•ng Ä‘iá»ƒm % 1000

VÃ­ dá»¥:
- 450 Ä‘iá»ƒm â†’ Level 1, EXP: 450/1000
- 1250 Ä‘iá»ƒm â†’ Level 2, EXP: 250/1000
- 5600 Ä‘iá»ƒm â†’ Level 6, EXP: 600/1000
```

## ğŸ’¡ Tips Äá»ƒ Leo Háº¡ng

1. **Táº­p Ä‘á»u Ä‘áº·n** - Duy trÃ¬ streak
2. **Táº­p lÃ¢u hÆ¡n** - Thá»i gian = Ä‘iá»ƒm
3. **Thá»­ mÃ´n khÃ³** - BÆ¡i lá»™i, Gym
4. **Ä‚n sÃ¡ng Ä‘áº§y Ä‘á»§** - Bonus x1.2
5. **Ä‚n Ä‘á»§ protein** - Bonus +5 hoáº·c +10
6. **HoÃ n thÃ nh cáº£ workout + meal** - Tá»‘i Ä‘a hÃ³a Ä‘iá»ƒm

## ğŸ¯ Káº¿t Luáº­n

Há»‡ thá»‘ng má»›i:
- âœ… **ÄÆ¡n giáº£n** - Chá»‰ cáº§n tick
- âœ… **Tá»± Ä‘á»™ng** - KhÃ´ng cáº§n nháº­p
- âœ… **CÃ´ng báº±ng** - Dá»±a trÃªn effort thá»±c
- âœ… **Äá»™ng lá»±c** - Gamification Ä‘áº§y Ä‘á»§
- âœ… **CÃ¢n báº±ng** - Workout + Meal Ä‘á»u quan trá»ng

**Má»¥c tiÃªu:** Khuyáº¿n khÃ­ch ngÆ°á»i dÃ¹ng:
- Táº­p luyá»‡n Ä‘á»u Ä‘áº·n
- Ä‚n uá»‘ng khoa há»c
- Cáº¡nh tranh lÃ nh máº¡nh
- PhÃ¡t triá»ƒn thÃ³i quen tá»‘t

---

**Táº¡o bá»Ÿi**: Antigravity AI
**NgÃ y**: 2025-12-04
**Version**: 2.0 - Auto Points System
